"use strict";angular.module("masterTTTApp",["firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("masterTTTApp").controller("MainCtrl",["$scope","angularFire",function(a,b){a.games=[],a.queue={};var c=new Firebase("https://sjrtictactoe.firebaseio.com/games");b(c,a,"games").then(function(){var c=new Firebase("https://sjrtictactoe.firebaseio.com/queue");b(c,a,"queue").then(function(){if(void 0==a.queue.gameId){console.log("I'm player 1"),a.player="p1";var b={board:[[{mark:"",r:"0",c:"0"},{mark:"",r:"0",c:"1"},{mark:"",r:"0",c:"2"}],[{mark:"",r:"1",c:"0"},{mark:"",r:"1",c:"1"},{mark:"",r:"1",c:"2"}],[{mark:"",r:"2",c:"0"},{mark:"",r:"2",c:"1"},{mark:"",r:"2",c:"2"}]],turn:"p1",win:!1,turnCount:0,playerTurn:1};a.gameId=a.games.push(b)-1,a.queue.gameId=a.gameId,console.log("Player 1's game is: "+a.gameId)}else console.log("I'm player 2"),a.player="p2",a.gameId=a.queue.gameId,a.queue={},console.log("Player 2's game is: "+a.gameId)})}),a.clickSquare=function(b){b.mark=1==a.games[a.gameId].playerTurn%2?"x":"o",a.games[a.gameId].playerTurn++},a.findimg=function(a){switch(a.mark){case"x":return"img/dotsx.png";case"o":return"img/dots.png"}},a.winningCombo=function(){""!=a.board[1][1].mark&&(a.board[0][0].mark==a.board[1][1].mark&&a.board[1][1].mark==a.board[2][2].mark||a.board[0][2].mark==a.board[1][1].mark&&a.board[1][1].mark==a.board[2][0].mark)&&alert("WINS");for(var b=0;2>=b;++b)""!=a.board[0][b].mark&&a.board[0][b].mark==a.board[1][b].mark&&a.board[1][b].mark==a.board[2][b].mark&&alert("WINS");for(var c=0;2>=c;++c)""!=a.board[c][0].mark&&a.board[c][0].mark==a.board[c][1].mark&&a.board[c][1].mark==a.board[c][2].mark&&alert("WINS")}}]);